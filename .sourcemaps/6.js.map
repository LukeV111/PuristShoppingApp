{"version":3,"sources":["../../src/pages/layout/profile/profile/profile.module.ts","../../src/pages/layout/profile/profile/profile.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { ProfilePage } from './profile';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProfilePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ProfilePage),\r\n  ],\r\n  exports: [\r\n    ProfilePage\r\n  ]\r\n})\r\nexport class ProfilePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/layout/profile/profile/profile.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, ToastController } from 'ionic-angular';\nimport { AuthData } from '../../../../providers/auth-data';\n\nimport { AngularFireDatabase, FirebaseObjectObservable, FirebaseListObservable } from 'angularfire2/database-deprecated';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport * as firebase from 'firebase';\n\n\nimport md5 from 'crypto-md5'; // dependencies:\"crypto-md5\"\n\n@IonicPage()\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html'\n})\nexport class ProfilePage {\n  email: any;\n  profilePicture: any = \"https://www.gravatar.com/avatar/\"\n  profileArray: any = [];\n  profile: FirebaseListObservable<any[]>;\n  profile2: FirebaseListObservable<any[]>;\n  uid: any;\n  key: any;\n  itemId: any;\n  Quantity: any;\n  items: any[] = [];\n  name: any;\n  orderId: any;\n\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public authData: AuthData, public alertCtrl: AlertController, public loadingCtrl: LoadingController, private toastCtrl: ToastController, public afAuth: AngularFireAuth, public afDb: AngularFireDatabase) {\n    let loadingPopup = this.loadingCtrl.create({\n      spinner: 'crescent',\n      content: ''\n    });\n\n    this.itemId = this.navParams.get('itemId');\n    console.log(\"Test\")\n    console.log(\"++++++itemId=\" + this.navParams.get('itemId'));\n\n    this.afDb.list('/ userProfile / ' + this.uid,  { //Ok so here needs to be the list in the completedOrders thing.\n      query: {\n        orderByChild: \"Quantity\",\n        equalTo: this.Quantity\n      }\n    }).subscribe(listItems => {\n      this.items = listItems;\n      loadingPopup.dismiss()\n    });\n    \n  }\n  ionViewWillLoad() {\n    this.afAuth.authState.subscribe(userAuth => {\n\n      if (userAuth) {\n        console.log(\"auth true!\")\n        this.uid = userAuth.uid;\n        this.email = userAuth.email;\n        //this.profilePicture = \"https://www.gravatar.com/avatar/\" + md5(this.email.toLowerCase(), 'hex');\n\n        let loadingPopup = this.loadingCtrl.create({\n          spinner: 'crescent',\n          content: '',\n          duration: 15000\n        });\n        loadingPopup.present();\n\n        this.profile = this.afDb.list('/userProfile/' + this.uid);\n\n        this.profile.subscribe(profile => {\n          this.profileArray = profile;\n          loadingPopup.dismiss();\n        })\n\n      } else {\n        console.log(\"auth false\");\n        this.navCtrl.setRoot('LoginPage');\n      }\n\n    });\n  }\n\n  logout() {\n    this.authData.logoutUser()\n      .then(authData => {\n        console.log(\"Logged out\");\n        // toast message\n        this.presentToast('bottom', 'You are now logged out');\n        this.navCtrl.setRoot('LoginPage');\n      }, error => {\n        var errorMessage: string = error.message;\n        console.log(errorMessage);\n        //this.presentAlert(errorMessage);\n      });\n    }\n\n  presentAlert(title) {\n    let alert = this.alertCtrl.create({\n      title: title,\n      buttons: ['OK']\n    });\n    alert.present();\n  }\n\n  presentToast(position: string, message: string) {\n    let toast = this.toastCtrl.create({\n      message: message,\n      position: position,\n      duration: 3000\n    });\n    toast.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/layout/profile/profile/profile.ts"],"sourceRoot":""}